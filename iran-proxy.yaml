ipv6: false
# port of HTTP
port: 7890
# port of SOCKS5
socks-port: 7891

allow-lan: false
mode: rule
log-level: debug
external-controller: 127.0.0.1:9090
# (HTTP and SOCKS5 in one port)
# mixed-port: 7890
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 178.22.122.100
    - 185.51.200.2
  nameserver:
    - 178.22.122.100
    - 185.51.200.2
    # - https://free.shecan.ir/dns-query
    # - free.shecan.ir
proxies:
  - {
      "name": "ðŸ‡ºðŸ‡¸US_144 | sspool",
      "server": "38.114.114.69",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 443,
      "password": "pKEW8JPByTVTLtM",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_153 | sspool",
      "server": "38.64.138.145",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8080,
      "password": "KixLvKzwjekG00rm",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_158 | sspool",
      "server": "38.121.43.71",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8119,
      "password": "cdBIDV42DCwnfIN",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_164 | sspool",
      "server": "38.68.135.18",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 5500,
      "password": "KixLvKzwjekG00rm",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_178 | sspool",
      "server": "38.75.136.21",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8080,
      "password": "KixLvKzwjekG00rm",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_182 | sspool",
      "server": "38.64.138.145",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 6679,
      "password": "TEzjfAYq2IjtuoS",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_186 | sspool",
      "server": "38.68.135.19",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 2376,
      "password": "faBAoD54k87UJG7",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_190 | sspool",
      "server": "23.230.146.254",
      "type": "vmess",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 1258,
      "uuid": "edeb41cc-a76a-47f2-fa96-b9141e66a2b0",
      "alterId": 0,
      "cipher": "auto",
      "network": "tcp",
      "ws-path": "/",
      "http-opts": {},
      "h2-opts": {},
      "skip-cert-verify": true,
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_192 | sspool",
      "server": "67.21.72.44",
      "type": "vmess",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 443,
      "uuid": "2566d00f-218c-48f7-9a36-13d3d6f1a724",
      "alterId": 64,
      "cipher": "auto",
      "network": "ws",
      "ws-path": "/path/120208301422",
      "servername": "www.48816626.xyz",
      "ws-headers": { "HOST": "www.48816626.xyz" },
      "http-opts": {},
      "h2-opts": {},
      "tls": true,
      "skip-cert-verify": true,
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_209 | sspool",
      "server": "107.181.161.163",
      "type": "trojan",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 443,
      "password": "d1478689-439c-4590-b7ce-36e786a02dc3",
      "skip-cert-verify": true,
      "udp": true,
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_210 | sspool",
      "server": "www.sxsy88.tk",
      "type": "trojan",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 44150,
      "password": "zFyLKH62WN",
      "skip-cert-verify": true,
      "udp": true,
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_216 | sspool",
      "server": "150.230.217.213",
      "type": "trojan",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 443,
      "password": "c09eb137-bf68-4658-84e0-102d94b74168",
      "skip-cert-verify": true,
      "udp": true,
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_222 | sspool",
      "server": "youtube-bai-piao-wang-zhe-usa.98848.xyz",
      "type": "trojan",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 443,
      "password": "d1478689-439c-4590-b7ce-36e786a02dc3",
      "skip-cert-verify": true,
      "udp": true,
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1021 | proxypool-fly-dev",
      "server": "172.99.190.39",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 9102,
      "password": "e4FCWrgpkji3QY",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1024 | proxypool-fly-dev",
      "server": "172.99.190.39",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 3306,
      "password": "Y6R9pAtvxxzmGC",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1025 | proxypool-fly-dev",
      "server": "172.99.190.39",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 7306,
      "password": "FoOiGlkAA9yPEGP",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1043 | proxypool-fly-dev",
      "server": "38.64.138.145",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8080,
      "password": "KixLvKzwjekG00rm",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1054 | proxypool-fly-dev",
      "server": "38.64.138.145",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 5500,
      "password": "KixLvKzwjekG00rm",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1057 | proxypool-fly-dev",
      "server": "38.64.138.145",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 2376,
      "password": "faBAoD54k87UJG7",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1062 | proxypool-fly-dev",
      "server": "38.75.136.102",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 5004,
      "password": "g5MeD6Ft3CWlJId",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1064 | proxypool-fly-dev",
      "server": "172.99.190.87",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 2375,
      "password": "faBAoD54k87UJG7",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1065 | proxypool-fly-dev",
      "server": "172.99.190.87",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8008,
      "password": "XKFKl2rULjIp74",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1067 | proxypool-fly-dev",
      "server": "167.88.63.99",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 7306,
      "password": "FoOiGlkAA9yPEGP",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1072 | proxypool-fly-dev",
      "server": "167.88.61.175",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8888,
      "password": "Y6R9pAtvxxzmGC",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1077 | proxypool-fly-dev",
      "server": "38.114.114.49",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 7306,
      "password": "FoOiGlkAA9yPEGP",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1097 | proxypool-fly-dev",
      "server": "38.114.114.67",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8091,
      "password": "PCnnH6SQSnfoS27",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1101 | proxypool-fly-dev",
      "server": "167.88.63.79",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 443,
      "password": "pKEW8JPByTVTLtM",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1106 | proxypool-fly-dev",
      "server": "38.68.134.191",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 7306,
      "password": "FoOiGlkAA9yPEGP",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1255 | proxypool-fly-dev",
      "server": "172.99.190.7",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8090,
      "password": "PCnnH6SQSnfoS27",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1257 | proxypool-fly-dev",
      "server": "172.99.188.71",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 8882,
      "password": "kDWvXYZoTBcGkC4",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1260 | proxypool-fly-dev",
      "server": "172.99.190.39",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 2375,
      "password": "faBAoD54k87UJG7",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1262 | proxypool-fly-dev",
      "server": "172.99.190.149",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 7307,
      "password": "FoOiGlkAA9yPEGP",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1270 | proxypool-fly-dev",
      "server": "172.99.190.39",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 3389,
      "password": "Y6R9pAtvxxzmGC",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1349 | proxypool-fly-dev",
      "server": "172.99.190.39",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 5600,
      "password": "Y6R9pAtvxxzmGC",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡ºðŸ‡¸US_1431 | proxypool-fly-dev",
      "server": "172.99.190.87",
      "type": "ss",
      "country": "ðŸ‡ºðŸ‡¸US",
      "port": 6679,
      "password": "TEzjfAYq2IjtuoS",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡©ðŸ‡ªDE_72 | sspool",
      "server": "193.108.117.75",
      "type": "ss",
      "country": "ðŸ‡©ðŸ‡ªDE",
      "port": 8090,
      "password": "PCnnH6SQSnfoS27",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡©ðŸ‡ªDE_69 | sspool",
      "server": "193.108.117.75",
      "type": "ss",
      "country": "ðŸ‡©ðŸ‡ªDE",
      "port": 2376,
      "password": "faBAoD54k87UJG7",
      "cipher": "aes-256-gcm",
    }
  - {
      "name": "ðŸ‡¬ðŸ‡§GB_621 | proxypool-fly-dev",
      "server": "78.129.253.9",
      "type": "ss",
      "country": "ðŸ‡¬ðŸ‡§GB",
      "port": 809,
      "password": "G!yBwPWH3Vao",
      "cipher": "chacha20-ietf-poly1305",
    }
  - {
      "name": ðŸ‡¨ðŸ‡­Switzerland_001 | anaer,
      "password": "xxoo",
      "port": "443",
      "server": "138.124.183.226",
      "skip-cert-verify": true,
      "type": "trojan",
      "udp": true,
      "uuid": "e8350ec0-6294-1623-9279-3be460b93a1d",
    }
  - {
      "name": "ðŸ‡¨ðŸ‡­Switzerland_002 | anaer",
      "password": "xxoo",
      "port": "443",
      "server": "138.124.183.216",
      "skip-cert-verify": true,
      "type": "trojan",
      "udp": true,
      "uuid": "31f7a663-c59c-3342-4674-5eaccc1b2a2c",
    }

proxy-groups:
  - name: Global choice
    type: select
    proxies:
      - Delayed minimum
      - Select node
  - name: Select node
    type: select
    proxies:
      - "ðŸ‡ºðŸ‡¸US_209 | sspool"
      - "ðŸ‡ºðŸ‡¸US_222 | sspool"
      - "ðŸ‡ºðŸ‡¸US_210 | sspool"
      - "ðŸ‡ºðŸ‡¸US_216 | sspool"
      - "ðŸ‡ºðŸ‡¸US_164 | sspool"
      - "ðŸ‡ºðŸ‡¸US_190 | sspool"
      - "ðŸ‡ºðŸ‡¸US_192 | sspool"
      - "ðŸ‡ºðŸ‡¸US_153 | sspool"
      - "ðŸ‡ºðŸ‡¸US_144 | sspool"
      - "ðŸ‡ºðŸ‡¸US_158 | sspool"
      - "ðŸ‡ºðŸ‡¸US_178 | sspool"
      - "ðŸ‡ºðŸ‡¸US_186 | sspool"
      - "ðŸ‡ºðŸ‡¸US_182 | sspool"
      - "ðŸ‡ºðŸ‡¸US_1021 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1024 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1025 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1043 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1054 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1057 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1062 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1064 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1065 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1067 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1072 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1077 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1097 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1101 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1106 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1255 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1257 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1260 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1262 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1270 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1349 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1431 | proxypool-fly-dev"
      - "ðŸ‡©ðŸ‡ªDE_72 | sspool"
      - "ðŸ‡©ðŸ‡ªDE_69 | sspool"
      - "ðŸ‡¬ðŸ‡§GB_621 | proxypool-fly-dev"
      - "ðŸ‡¨ðŸ‡­Switzerland_001 | anaer"
      - "ðŸ‡¨ðŸ‡­Switzerland_002 | anaer"
      
  - name: Delayed minimum
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    proxies:
      - "ðŸ‡ºðŸ‡¸US_209 | sspool"
      - "ðŸ‡ºðŸ‡¸US_222 | sspool"
      - "ðŸ‡ºðŸ‡¸US_210 | sspool"
      - "ðŸ‡ºðŸ‡¸US_216 | sspool"
      - "ðŸ‡ºðŸ‡¸US_164 | sspool"
      - "ðŸ‡ºðŸ‡¸US_190 | sspool"
      - "ðŸ‡ºðŸ‡¸US_192 | sspool"
      - "ðŸ‡ºðŸ‡¸US_153 | sspool"
      - "ðŸ‡ºðŸ‡¸US_144 | sspool"
      - "ðŸ‡ºðŸ‡¸US_158 | sspool"
      - "ðŸ‡ºðŸ‡¸US_178 | sspool"
      - "ðŸ‡ºðŸ‡¸US_186 | sspool"
      - "ðŸ‡ºðŸ‡¸US_182 | sspool"
      - "ðŸ‡ºðŸ‡¸US_1021 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1024 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1025 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1043 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1054 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1057 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1062 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1064 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1065 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1067 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1072 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1077 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1097 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1101 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1106 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1255 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1257 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1260 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1262 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1270 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1349 | proxypool-fly-dev"
      - "ðŸ‡ºðŸ‡¸US_1431 | proxypool-fly-dev"
      - "ðŸ‡©ðŸ‡ªDE_72 | sspool"
      - "ðŸ‡©ðŸ‡ªDE_69 | sspool"
      - "ðŸ‡¬ðŸ‡§GB_621 | proxypool-fly-dev"
      - "ðŸ‡¨ðŸ‡­Switzerland_001 | anaer"
      - "ðŸ‡¨ðŸ‡­Switzerland_002 | anaer"

rule-providers:
  iran:
    type: http
    behavior: classical
    url: "https://github.com/SamadiPour/iran-hosted-domains/releases/latest/download/clash_rules.yaml"
    path: ./ruleset/iran.yaml
    interval: 432000

rules:
  - RULE-SET,iran,DIRECT
  - DOMAIN,didi.ir,DIRECT
  - DOMAIN,ad.com,REJECT
  - DOMAIN,whatsapp.com,DIRECT
  - DOMAIN,meet.google.com,DIRECT
  - DOMAIN,web.whatsapp.com,DIRECT
  - DOMAIN,uk.ac.ir,DIRECT
  - DOMAIN,nut.uk.ac.ir,DIRECT
  - DOMAIN-SUFFIX,ac.ir,DIRECT
  - DOMAIN-SUFFIX,firebase.google.com,DIRECT
  - DOMAIN-SUFFIX,developer.android.com,DIRECT
  - SRC-IP-CIDR,192.168.1.201/32,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR6,2620:0:2d0:200::7/32,DIRECT
  - DST-PORT,80,DIRECT
  - SRC-PORT,7777,DIRECT
  - MATCH,Global choice